/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./examples/space-invaders/spaceInvaders.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./examples/space-invaders/spaceInvaders.ts":
/*!**************************************************!*\
  !*** ./examples/space-invaders/spaceInvaders.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const index_1 = __importDefault(__webpack_require__(/*! ../../src/index */ "./src/index.ts"));
const physics_1 = __importDefault(__webpack_require__(/*! ../../physics */ "./physics/index.ts"));
const render_1 = __importDefault(__webpack_require__(/*! ../../render */ "./render/index.ts"));
const gameConfig = {
    width: 800,
    height: 600,
};
// Add renderer
const renderer = render_1.default.createRenderer(gameConfig);
document.body.appendChild(renderer.view);
const game = index_1.default({
    targetGameLogicFrameRate: 60,
    onStart,
    update,
    render,
});
// Create invaders
const invaders = [];
for (let i = 0; i < 5; i++) {
    invaders.push(physics_1.default.Bodies.circle({
        x: (gameConfig.width * 0.2 * (i + .5)),
        y: gameConfig.height * 0.10,
        radius: 15,
    }));
}
// Create Player
const player = physics_1.default.Bodies.circle({ x: 400, y: 200, radius: 25 });
const world = [
    ...invaders,
    player,
];
game.start();
function onStart() {
    invaders.forEach(invader => {
        invader.velocity = { x: 1, y: 0 };
    });
}
function update() {
    const firstInvader = invaders[0];
    const lastInvader = invaders[invaders.length - 1];
    const isFirstInvaderOffLeftSide = (firstInvader.x - firstInvader.radius) <= 0;
    const isLastInvaderOffRightSide = (lastInvader.x + lastInvader.radius) >= gameConfig.width;
    if (isFirstInvaderOffLeftSide || isLastInvaderOffRightSide) {
        invaders.forEach(invader => invader.velocity.x *= -1);
        invaders.forEach(invader => invader.y += gameConfig.height * .01);
    }
    physics_1.default.nextTick(world);
}
function render(distanceBetweenGameLogicFrames) {
    renderer.nextTick(world);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BhY2VJbnZhZGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2V4YW1wbGVzL3NwYWNlLWludmFkZXJzL3NwYWNlSW52YWRlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSw0REFBeUM7QUFDekMsNERBQW9DO0FBQ3BDLDBEQUFvQztBQUVwQyxNQUFNLFVBQVUsR0FBRztJQUNmLEtBQUssRUFBRSxHQUFHO0lBQ1YsTUFBTSxFQUFFLEdBQUc7Q0FDZCxDQUFDO0FBRUYsZUFBZTtBQUNmLE1BQU0sUUFBUSxHQUFHLGdCQUFRLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3JELFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUV6QyxNQUFNLElBQUksR0FBRyxlQUFVLENBQUM7SUFDcEIsd0JBQXdCLEVBQUUsRUFBRTtJQUM1QixPQUFPO0lBQ1AsTUFBTTtJQUNOLE1BQU07Q0FDVCxDQUFDLENBQUM7QUFJSCxrQkFBa0I7QUFDbEIsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDeEIsUUFBUSxDQUFDLElBQUksQ0FDVCxpQkFBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDbEIsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDdEMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxNQUFNLEdBQUcsSUFBSTtRQUMzQixNQUFNLEVBQUUsRUFBRTtLQUNiLENBQUMsQ0FDTCxDQUFBO0NBQ0o7QUFFRCxnQkFBZ0I7QUFDaEIsTUFBTSxNQUFNLEdBQUcsaUJBQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBRXJFLE1BQU0sS0FBSyxHQUFHO0lBQ1YsR0FBRyxRQUFRO0lBQ1gsTUFBTTtDQUNULENBQUM7QUFFRixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7QUFFYixTQUFTLE9BQU87SUFDWixRQUFRLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ3ZCLE9BQU8sQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUN0QyxDQUFDLENBQUMsQ0FBQTtBQUNOLENBQUM7QUFFRCxTQUFTLE1BQU07SUFFWCxNQUFNLFlBQVksR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakMsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDbEQsTUFBTSx5QkFBeUIsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM5RSxNQUFNLHlCQUF5QixHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsTUFBTSxDQUFDLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQztJQUMzRixJQUFJLHlCQUF5QixJQUFJLHlCQUF5QixFQUFFO1FBQ3hELFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RELFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUM7S0FDckU7SUFFRCxpQkFBTyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM1QixDQUFDO0FBRUQsU0FBUyxNQUFNLENBQUMsOEJBQXNDO0lBQ2xELFFBQVEsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDN0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcmVhdGVHYW1lIGZyb20gJy4uLy4uL3NyYy9pbmRleCc7XG5pbXBvcnQgUGh5c2ljcyBmcm9tICcuLi8uLi9waHlzaWNzJztcbmltcG9ydCBSZW5kZXJlciBmcm9tICcuLi8uLi9yZW5kZXInO1xuXG5jb25zdCBnYW1lQ29uZmlnID0ge1xuICAgIHdpZHRoOiA4MDAsXG4gICAgaGVpZ2h0OiA2MDAsXG59O1xuXG4vLyBBZGQgcmVuZGVyZXJcbmNvbnN0IHJlbmRlcmVyID0gUmVuZGVyZXIuY3JlYXRlUmVuZGVyZXIoZ2FtZUNvbmZpZyk7XG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLnZpZXcpO1xuXG5jb25zdCBnYW1lID0gY3JlYXRlR2FtZSh7XG4gICAgdGFyZ2V0R2FtZUxvZ2ljRnJhbWVSYXRlOiA2MCxcbiAgICBvblN0YXJ0LFxuICAgIHVwZGF0ZSxcbiAgICByZW5kZXIsXG59KTtcblxuXG5cbi8vIENyZWF0ZSBpbnZhZGVyc1xuY29uc3QgaW52YWRlcnMgPSBbXTtcbmZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgaW52YWRlcnMucHVzaChcbiAgICAgICAgUGh5c2ljcy5Cb2RpZXMuY2lyY2xlKHtcbiAgICAgICAgICAgIHg6IChnYW1lQ29uZmlnLndpZHRoICogMC4yICogKGkgKyAuNSkpLFxuICAgICAgICAgICAgeTogZ2FtZUNvbmZpZy5oZWlnaHQgKiAwLjEwLFxuICAgICAgICAgICAgcmFkaXVzOiAxNSxcbiAgICAgICAgfSlcbiAgICApXG59XG5cbi8vIENyZWF0ZSBQbGF5ZXJcbmNvbnN0IHBsYXllciA9IFBoeXNpY3MuQm9kaWVzLmNpcmNsZSh7IHg6IDQwMCwgeTogMjAwLCByYWRpdXM6IDI1IH0pO1xuXG5jb25zdCB3b3JsZCA9IFtcbiAgICAuLi5pbnZhZGVycyxcbiAgICBwbGF5ZXIsXG5dO1xuXG5nYW1lLnN0YXJ0KCk7XG5cbmZ1bmN0aW9uIG9uU3RhcnQoKSB7XG4gICAgaW52YWRlcnMuZm9yRWFjaChpbnZhZGVyID0+IHtcbiAgICAgICAgaW52YWRlci52ZWxvY2l0eSA9IHsgeDogMSwgeTogMCB9O1xuICAgIH0pXG59XG5cbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcblxuICAgIGNvbnN0IGZpcnN0SW52YWRlciA9IGludmFkZXJzWzBdO1xuICAgIGNvbnN0IGxhc3RJbnZhZGVyID0gaW52YWRlcnNbaW52YWRlcnMubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgaXNGaXJzdEludmFkZXJPZmZMZWZ0U2lkZSA9IChmaXJzdEludmFkZXIueCAtIGZpcnN0SW52YWRlci5yYWRpdXMpIDw9IDA7XG4gICAgY29uc3QgaXNMYXN0SW52YWRlck9mZlJpZ2h0U2lkZSA9IChsYXN0SW52YWRlci54ICsgbGFzdEludmFkZXIucmFkaXVzKSA+PSBnYW1lQ29uZmlnLndpZHRoO1xuICAgIGlmIChpc0ZpcnN0SW52YWRlck9mZkxlZnRTaWRlIHx8IGlzTGFzdEludmFkZXJPZmZSaWdodFNpZGUpIHtcbiAgICAgICAgaW52YWRlcnMuZm9yRWFjaChpbnZhZGVyID0+IGludmFkZXIudmVsb2NpdHkueCAqPSAtMSk7XG4gICAgICAgIGludmFkZXJzLmZvckVhY2goaW52YWRlciA9PiBpbnZhZGVyLnkgKz0gZ2FtZUNvbmZpZy5oZWlnaHQgKiAuMDEpO1xuICAgIH1cblxuICAgIFBoeXNpY3MubmV4dFRpY2sod29ybGQpO1xufVxuXG5mdW5jdGlvbiByZW5kZXIoZGlzdGFuY2VCZXR3ZWVuR2FtZUxvZ2ljRnJhbWVzOiBudW1iZXIpIHtcbiAgICByZW5kZXJlci5uZXh0VGljayh3b3JsZCk7XG59XG4iXX0=

/***/ }),

/***/ "./physics/Bodies.ts":
/*!***************************!*\
  !*** ./physics/Bodies.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.default = {
    circle,
};
/**
* Creates a new rigid body model with a circle hull.
* The options parameter is an object that specifies any properties you wish to override the defaults.
* See the properties section of the `Matter.Body` module for detailed information on what you can pass via the `options` object.
* @method circle
* @param {number} x
* @param {number} y
* @param {number} radius
* @return {body} A new circle body
*/
function circle(config) {
    return config;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQm9kaWVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vcGh5c2ljcy9Cb2RpZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQSxrQkFBZTtJQUNYLE1BQU07Q0FDVCxDQUFDO0FBRUQ7Ozs7Ozs7OztFQVNFO0FBQ0gsU0FBUyxNQUFNLENBQUMsTUFJWDtJQUNELE9BQU8sTUFBTSxDQUFDO0FBQ2xCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQm9keSBmcm9tICcuL0JvZHknO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgY2lyY2xlLFxufTtcblxuIC8qKlxuICogQ3JlYXRlcyBhIG5ldyByaWdpZCBib2R5IG1vZGVsIHdpdGggYSBjaXJjbGUgaHVsbC5cbiAqIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gb2YgdGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gKiBAbWV0aG9kIGNpcmNsZVxuICogQHBhcmFtIHtudW1iZXJ9IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXG4gKiBAcmV0dXJuIHtib2R5fSBBIG5ldyBjaXJjbGUgYm9keVxuICovXG5mdW5jdGlvbiBjaXJjbGUoY29uZmlnOiB7XG4gICAgICAgIHg6IG51bWJlcjtcbiAgICAgICAgeTogbnVtYmVyO1xuICAgICAgICByYWRpdXM6IG51bWJlcjtcbiAgICB9KTogQm9keSB7XG4gICAgcmV0dXJuIGNvbmZpZztcbn1cbiJdfQ==

/***/ }),

/***/ "./physics/index.ts":
/*!**************************!*\
  !*** ./physics/index.ts ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Bodies_1 = __importDefault(__webpack_require__(/*! ./Bodies */ "./physics/Bodies.ts"));
exports.default = {
    Bodies: Bodies_1.default,
    nextTick,
};
function nextTick(bodies) {
    for (const body of bodies) {
        // Update position
        const velocity = {
            x: 0,
            y: 0,
            ...body.velocity,
        };
        body.x += velocity.x;
        body.y += velocity.y;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9waHlzaWNzL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsc0RBQThCO0FBRzlCLGtCQUFlO0lBQ1gsTUFBTSxFQUFOLGdCQUFNO0lBQ04sUUFBUTtDQUNYLENBQUM7QUFHRixTQUFTLFFBQVEsQ0FBQyxNQUFjO0lBQzVCLEtBQUssTUFBTSxJQUFJLElBQUksTUFBTSxFQUFFO1FBQ3ZCLGtCQUFrQjtRQUNsQixNQUFNLFFBQVEsR0FBRztZQUNiLENBQUMsRUFBRSxDQUFDO1lBQ0osQ0FBQyxFQUFFLENBQUM7WUFDSixHQUFHLElBQUksQ0FBQyxRQUFRO1NBQ25CLENBQUE7UUFDRCxJQUFJLENBQUMsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDckIsSUFBSSxDQUFDLENBQUMsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDO0tBQ3hCO0FBQ0wsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCb2RpZXMgZnJvbSAnLi9Cb2RpZXMnO1xuaW1wb3J0IEJvZHkgZnJvbSAnLi9Cb2R5JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIEJvZGllcyxcbiAgICBuZXh0VGljayxcbn07XG5cblxuZnVuY3Rpb24gbmV4dFRpY2soYm9kaWVzOiBCb2R5W10pIHtcbiAgICBmb3IgKGNvbnN0IGJvZHkgb2YgYm9kaWVzKSB7XG4gICAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvblxuICAgICAgICBjb25zdCB2ZWxvY2l0eSA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgLi4uYm9keS52ZWxvY2l0eSxcbiAgICAgICAgfVxuICAgICAgICBib2R5LnggKz0gdmVsb2NpdHkueDtcbiAgICAgICAgYm9keS55ICs9IHZlbG9jaXR5Lnk7XG4gICAgfVxufVxuIl19

/***/ }),

/***/ "./render/index.ts":
/*!*************************!*\
  !*** ./render/index.ts ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.default = {
    createRenderer,
};
function createRenderer(config) {
    const canvas = Object.assign(document.createElement('canvas'), config);
    const context = canvas.getContext('2d');
    return {
        view: canvas,
        nextTick,
    };
    function nextTick(bodies) {
        context.fillStyle = '#fff';
        context.fillRect(0, 0, canvas.width, canvas.height);
        for (const body of bodies) {
            context.beginPath();
            context.arc(body.x, body.y, body.radius, 0, 2 * Math.PI);
            context.lineWidth = 1;
            context.strokeStyle = '#999';
            context.stroke();
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9yZW5kZXIvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQSxrQkFBZTtJQUNYLGNBQWM7Q0FDakIsQ0FBQztBQUVGLFNBQVMsY0FBYyxDQUFDLE1BQXdDO0lBQzVELE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQ3hCLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLEVBQ2hDLE1BQU0sQ0FDVCxDQUFDO0lBQ0YsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUV4QyxPQUFPO1FBQ0gsSUFBSSxFQUFFLE1BQU07UUFDWixRQUFRO0tBQ1gsQ0FBQTtJQUVELFNBQVMsUUFBUSxDQUFDLE1BQWM7UUFDNUIsT0FBTyxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUM7UUFDM0IsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBR3BELEtBQUssTUFBTSxJQUFJLElBQUksTUFBTSxFQUFFO1lBQ3ZCLE9BQU8sQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNwQixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3pELE9BQU8sQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDO1lBQ3RCLE9BQU8sQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDO1lBQzdCLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUNwQjtJQUdMLENBQUM7QUFFTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJvZHkgZnJvbSAnLi4vcGh5c2ljcy9Cb2R5JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIGNyZWF0ZVJlbmRlcmVyLFxufTtcblxuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoY29uZmlnOiB7IHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyfSkge1xuICAgIGNvbnN0IGNhbnZhcyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLFxuICAgICAgICBjb25maWdcbiAgICApO1xuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHZpZXc6IGNhbnZhcyxcbiAgICAgICAgbmV4dFRpY2ssXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV4dFRpY2soYm9kaWVzOiBCb2R5W10pIHtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2ZmZic7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuXG4gICAgICAgIGZvciAoY29uc3QgYm9keSBvZiBib2RpZXMpIHtcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjb250ZXh0LmFyYyhib2R5LngsIGJvZHkueSwgYm9keS5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMTtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIzk5OSc7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICB9XG5cblxuICAgIH1cblxufVxuIl19

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
// TODO: Extract pixi to a plugin (SOC)
// PIXI
// const renderObjectContainer = new PIXI.Container();
// app.stage.addChild(renderObjectContainer);
// PIXI
// TODO: Stage, container
// https://github.com/Coder2012/pixi/tree/master/spaceshooter
// https://codepen.io/celsowhite/pen/XWbEzpx
exports.default = createGame;
function createGame(config) {
    const { targetGameLogicFrameRate, onStart, update, render, } = config;
    const MS_PER_UPDATE = 1000 / targetGameLogicFrameRate;
    return {
        start,
    };
    function start() {
        let previousTime = Date.now();
        let timeBehindRealWorld = 0;
        onStart();
        nextTick();
        function nextTick() {
            window.requestAnimationFrame(nextTick);
            const currentTime = Date.now();
            const elapsedTime = currentTime - previousTime;
            timeBehindRealWorld += elapsedTime;
            // TODO: process input
            // Fixed Game Logic timestep - TODO: bail after num iterations
            while (timeBehindRealWorld >= MS_PER_UPDATE) {
                update();
                timeBehindRealWorld -= MS_PER_UPDATE;
            }
            const distanceBetweenGameLogicFrames = timeBehindRealWorld / MS_PER_UPDATE;
            // Variable render timestep
            render(distanceBetweenGameLogicFrames);
            previousTime = currentTime;
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFPQSx1Q0FBdUM7QUFFdkMsT0FBTztBQUNQLHNEQUFzRDtBQUN0RCw2Q0FBNkM7QUFDN0MsT0FBTztBQUVQLHlCQUF5QjtBQUN6Qiw2REFBNkQ7QUFDN0QsNENBQTRDO0FBRTVDLGtCQUFlLFVBQVUsQ0FBQztBQUUxQixTQUFTLFVBQVUsQ0FBQyxNQUFrQjtJQUVsQyxNQUFNLEVBQ0Ysd0JBQXdCLEVBQ3hCLE9BQU8sRUFDUCxNQUFNLEVBQ04sTUFBTSxHQUNULEdBQUcsTUFBTSxDQUFDO0lBRVgsTUFBTSxhQUFhLEdBQUcsSUFBSSxHQUFHLHdCQUF3QixDQUFDO0lBR3RELE9BQU87UUFDSCxLQUFLO0tBQ1IsQ0FBQztJQUVGLFNBQVMsS0FBSztRQUNWLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUM5QixJQUFJLG1CQUFtQixHQUFHLENBQUMsQ0FBQztRQUU1QixPQUFPLEVBQUUsQ0FBQztRQUNWLFFBQVEsRUFBRSxDQUFDO1FBRVgsU0FBUyxRQUFRO1lBQ2IsTUFBTSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBRXZDLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUMvQixNQUFNLFdBQVcsR0FBRyxXQUFXLEdBQUcsWUFBWSxDQUFDO1lBQy9DLG1CQUFtQixJQUFJLFdBQVcsQ0FBQztZQUVuQyxzQkFBc0I7WUFFdEIsOERBQThEO1lBQzlELE9BQU8sbUJBQW1CLElBQUksYUFBYSxFQUFFO2dCQUN6QyxNQUFNLEVBQUUsQ0FBQztnQkFDVCxtQkFBbUIsSUFBSSxhQUFhLENBQUM7YUFDeEM7WUFFRCxNQUFNLDhCQUE4QixHQUFHLG1CQUFtQixHQUFHLGFBQWEsQ0FBQztZQUUzRSwyQkFBMkI7WUFDM0IsTUFBTSxDQUFDLDhCQUE4QixDQUFDLENBQUM7WUFDdkMsWUFBWSxHQUFHLFdBQVcsQ0FBQztRQUMvQixDQUFDO0lBQ0wsQ0FBQztBQUVMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbnRlcmZhY2UgR2FtZUNvbmZpZyB7XG4gICAgdGFyZ2V0R2FtZUxvZ2ljRnJhbWVSYXRlOiBudW1iZXI7XG4gICAgb25TdGFydDogKCkgPT4gYW55O1xuICAgIHVwZGF0ZTogKCkgPT4gYW55O1xuICAgIHJlbmRlcjogKGRpc3RhbmNlQmV0d2VlbkdhbWVMb2dpY0ZyYW1lczogbnVtYmVyKSA9PiBhbnk7XG59XG5cbi8vIFRPRE86IEV4dHJhY3QgcGl4aSB0byBhIHBsdWdpbiAoU09DKVxuXG4vLyBQSVhJXG4vLyBjb25zdCByZW5kZXJPYmplY3RDb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbi8vIGFwcC5zdGFnZS5hZGRDaGlsZChyZW5kZXJPYmplY3RDb250YWluZXIpO1xuLy8gUElYSVxuXG4vLyBUT0RPOiBTdGFnZSwgY29udGFpbmVyXG4vLyBodHRwczovL2dpdGh1Yi5jb20vQ29kZXIyMDEyL3BpeGkvdHJlZS9tYXN0ZXIvc3BhY2VzaG9vdGVyXG4vLyBodHRwczovL2NvZGVwZW4uaW8vY2Vsc293aGl0ZS9wZW4vWFdiRXpweFxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVHYW1lO1xuXG5mdW5jdGlvbiBjcmVhdGVHYW1lKGNvbmZpZzogR2FtZUNvbmZpZykge1xuXG4gICAgY29uc3Qge1xuICAgICAgICB0YXJnZXRHYW1lTG9naWNGcmFtZVJhdGUsXG4gICAgICAgIG9uU3RhcnQsXG4gICAgICAgIHVwZGF0ZSxcbiAgICAgICAgcmVuZGVyLFxuICAgIH0gPSBjb25maWc7XG5cbiAgICBjb25zdCBNU19QRVJfVVBEQVRFID0gMTAwMCAvIHRhcmdldEdhbWVMb2dpY0ZyYW1lUmF0ZTtcblxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQsXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICBsZXQgcHJldmlvdXNUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgbGV0IHRpbWVCZWhpbmRSZWFsV29ybGQgPSAwO1xuXG4gICAgICAgIG9uU3RhcnQoKTtcbiAgICAgICAgbmV4dFRpY2soKTtcblxuICAgICAgICBmdW5jdGlvbiBuZXh0VGljaygpIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobmV4dFRpY2spO1xuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkVGltZSA9IGN1cnJlbnRUaW1lIC0gcHJldmlvdXNUaW1lO1xuICAgICAgICAgICAgdGltZUJlaGluZFJlYWxXb3JsZCArPSBlbGFwc2VkVGltZTtcblxuICAgICAgICAgICAgLy8gVE9ETzogcHJvY2VzcyBpbnB1dFxuXG4gICAgICAgICAgICAvLyBGaXhlZCBHYW1lIExvZ2ljIHRpbWVzdGVwIC0gVE9ETzogYmFpbCBhZnRlciBudW0gaXRlcmF0aW9uc1xuICAgICAgICAgICAgd2hpbGUgKHRpbWVCZWhpbmRSZWFsV29ybGQgPj0gTVNfUEVSX1VQREFURSkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRpbWVCZWhpbmRSZWFsV29ybGQgLT0gTVNfUEVSX1VQREFURTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VCZXR3ZWVuR2FtZUxvZ2ljRnJhbWVzID0gdGltZUJlaGluZFJlYWxXb3JsZCAvIE1TX1BFUl9VUERBVEU7XG5cbiAgICAgICAgICAgIC8vIFZhcmlhYmxlIHJlbmRlciB0aW1lc3RlcFxuICAgICAgICAgICAgcmVuZGVyKGRpc3RhbmNlQmV0d2VlbkdhbWVMb2dpY0ZyYW1lcyk7XG4gICAgICAgICAgICBwcmV2aW91c1RpbWUgPSBjdXJyZW50VGltZTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuIl19

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vZXhhbXBsZXMvc3BhY2UtaW52YWRlcnMvc3BhY2VJbnZhZGVycy50cyIsIndlYnBhY2s6Ly8vLi9waHlzaWNzL0JvZGllcy50cyIsIndlYnBhY2s6Ly8vLi9waHlzaWNzL2luZGV4LnRzIiwid2VicGFjazovLy8uL3JlbmRlci9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtRQUFBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBOzs7UUFHQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMENBQTBDLGdDQUFnQztRQUMxRTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLHdEQUF3RCxrQkFBa0I7UUFDMUU7UUFDQSxpREFBaUQsY0FBYztRQUMvRDs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EseUNBQXlDLGlDQUFpQztRQUMxRSxnSEFBZ0gsbUJBQW1CLEVBQUU7UUFDckk7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwyQkFBMkIsMEJBQTBCLEVBQUU7UUFDdkQsaUNBQWlDLGVBQWU7UUFDaEQ7UUFDQTtRQUNBOztRQUVBO1FBQ0Esc0RBQXNELCtEQUErRDs7UUFFckg7UUFDQTs7O1FBR0E7UUFDQTs7Ozs7Ozs7Ozs7OztBQ2xGYTtBQUNiO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQsZ0NBQWdDLG1CQUFPLENBQUMsdUNBQWlCO0FBQ3pELGtDQUFrQyxtQkFBTyxDQUFDLHlDQUFlO0FBQ3pELGlDQUFpQyxtQkFBTyxDQUFDLHVDQUFjO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnREFBZ0QsNkJBQTZCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsMmtKOzs7Ozs7Ozs7Ozs7QUN4RDlCO0FBQ2IsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsT0FBTztBQUNqQixVQUFVLE9BQU87QUFDakIsVUFBVSxPQUFPO0FBQ2pCLFdBQVcsS0FBSztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQywyb0M7Ozs7Ozs7Ozs7OztBQ2xCOUI7QUFDYjtBQUNBLDRDQUE0QztBQUM1QztBQUNBLDhDQUE4QyxjQUFjO0FBQzVELGlDQUFpQyxtQkFBTyxDQUFDLHFDQUFVO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1wQzs7Ozs7Ozs7Ozs7O0FDdEI5QjtBQUNiLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDJxRTs7Ozs7Ozs7Ozs7O0FDeEI5QjtBQUNiLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxREFBcUQ7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLCsvRyIsImZpbGUiOiJzcGFjZUludmFkZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9leGFtcGxlcy9zcGFjZS1pbnZhZGVycy9zcGFjZUludmFkZXJzLnRzXCIpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgaW5kZXhfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vc3JjL2luZGV4XCIpKTtcclxuY29uc3QgcGh5c2ljc18xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi9waHlzaWNzXCIpKTtcclxuY29uc3QgcmVuZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4uLy4uL3JlbmRlclwiKSk7XHJcbmNvbnN0IGdhbWVDb25maWcgPSB7XHJcbiAgICB3aWR0aDogODAwLFxyXG4gICAgaGVpZ2h0OiA2MDAsXHJcbn07XHJcbi8vIEFkZCByZW5kZXJlclxyXG5jb25zdCByZW5kZXJlciA9IHJlbmRlcl8xLmRlZmF1bHQuY3JlYXRlUmVuZGVyZXIoZ2FtZUNvbmZpZyk7XHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVuZGVyZXIudmlldyk7XHJcbmNvbnN0IGdhbWUgPSBpbmRleF8xLmRlZmF1bHQoe1xyXG4gICAgdGFyZ2V0R2FtZUxvZ2ljRnJhbWVSYXRlOiA2MCxcclxuICAgIG9uU3RhcnQsXHJcbiAgICB1cGRhdGUsXHJcbiAgICByZW5kZXIsXHJcbn0pO1xyXG4vLyBDcmVhdGUgaW52YWRlcnNcclxuY29uc3QgaW52YWRlcnMgPSBbXTtcclxuZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICAgIGludmFkZXJzLnB1c2gocGh5c2ljc18xLmRlZmF1bHQuQm9kaWVzLmNpcmNsZSh7XHJcbiAgICAgICAgeDogKGdhbWVDb25maWcud2lkdGggKiAwLjIgKiAoaSArIC41KSksXHJcbiAgICAgICAgeTogZ2FtZUNvbmZpZy5oZWlnaHQgKiAwLjEwLFxyXG4gICAgICAgIHJhZGl1czogMTUsXHJcbiAgICB9KSk7XHJcbn1cclxuLy8gQ3JlYXRlIFBsYXllclxyXG5jb25zdCBwbGF5ZXIgPSBwaHlzaWNzXzEuZGVmYXVsdC5Cb2RpZXMuY2lyY2xlKHsgeDogNDAwLCB5OiAyMDAsIHJhZGl1czogMjUgfSk7XHJcbmNvbnN0IHdvcmxkID0gW1xyXG4gICAgLi4uaW52YWRlcnMsXHJcbiAgICBwbGF5ZXIsXHJcbl07XHJcbmdhbWUuc3RhcnQoKTtcclxuZnVuY3Rpb24gb25TdGFydCgpIHtcclxuICAgIGludmFkZXJzLmZvckVhY2goaW52YWRlciA9PiB7XHJcbiAgICAgICAgaW52YWRlci52ZWxvY2l0eSA9IHsgeDogMSwgeTogMCB9O1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgY29uc3QgZmlyc3RJbnZhZGVyID0gaW52YWRlcnNbMF07XHJcbiAgICBjb25zdCBsYXN0SW52YWRlciA9IGludmFkZXJzW2ludmFkZXJzLmxlbmd0aCAtIDFdO1xyXG4gICAgY29uc3QgaXNGaXJzdEludmFkZXJPZmZMZWZ0U2lkZSA9IChmaXJzdEludmFkZXIueCAtIGZpcnN0SW52YWRlci5yYWRpdXMpIDw9IDA7XHJcbiAgICBjb25zdCBpc0xhc3RJbnZhZGVyT2ZmUmlnaHRTaWRlID0gKGxhc3RJbnZhZGVyLnggKyBsYXN0SW52YWRlci5yYWRpdXMpID49IGdhbWVDb25maWcud2lkdGg7XHJcbiAgICBpZiAoaXNGaXJzdEludmFkZXJPZmZMZWZ0U2lkZSB8fCBpc0xhc3RJbnZhZGVyT2ZmUmlnaHRTaWRlKSB7XHJcbiAgICAgICAgaW52YWRlcnMuZm9yRWFjaChpbnZhZGVyID0+IGludmFkZXIudmVsb2NpdHkueCAqPSAtMSk7XHJcbiAgICAgICAgaW52YWRlcnMuZm9yRWFjaChpbnZhZGVyID0+IGludmFkZXIueSArPSBnYW1lQ29uZmlnLmhlaWdodCAqIC4wMSk7XHJcbiAgICB9XHJcbiAgICBwaHlzaWNzXzEuZGVmYXVsdC5uZXh0VGljayh3b3JsZCk7XHJcbn1cclxuZnVuY3Rpb24gcmVuZGVyKGRpc3RhbmNlQmV0d2VlbkdhbWVMb2dpY0ZyYW1lcykge1xyXG4gICAgcmVuZGVyZXIubmV4dFRpY2sod29ybGQpO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWMzQmhZMlZKYm5aaFpHVnljeTVxY3lJc0luTnZkWEpqWlZKdmIzUWlPaUlpTENKemIzVnlZMlZ6SWpwYklpNHVMeTR1THk0dUwyVjRZVzF3YkdWekwzTndZV05sTFdsdWRtRmtaWEp6TDNOd1lXTmxTVzUyWVdSbGNuTXVkSE1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3T3pzN1FVRkJRU3cwUkVGQmVVTTdRVUZEZWtNc05FUkJRVzlETzBGQlEzQkRMREJFUVVGdlF6dEJRVVZ3UXl4TlFVRk5MRlZCUVZVc1IwRkJSenRKUVVObUxFdEJRVXNzUlVGQlJTeEhRVUZITzBsQlExWXNUVUZCVFN4RlFVRkZMRWRCUVVjN1EwRkRaQ3hEUVVGRE8wRkJSVVlzWlVGQlpUdEJRVU5tTEUxQlFVMHNVVUZCVVN4SFFVRkhMR2RDUVVGUkxFTkJRVU1zWTBGQll5eERRVUZETEZWQlFWVXNRMEZCUXl4RFFVRkRPMEZCUTNKRUxGRkJRVkVzUTBGQlF5eEpRVUZKTEVOQlFVTXNWMEZCVnl4RFFVRkRMRkZCUVZFc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dEJRVVY2UXl4TlFVRk5MRWxCUVVrc1IwRkJSeXhsUVVGVkxFTkJRVU03U1VGRGNFSXNkMEpCUVhkQ0xFVkJRVVVzUlVGQlJUdEpRVU0xUWl4UFFVRlBPMGxCUTFBc1RVRkJUVHRKUVVOT0xFMUJRVTA3UTBGRFZDeERRVUZETEVOQlFVTTdRVUZKU0N4clFrRkJhMEk3UVVGRGJFSXNUVUZCVFN4UlFVRlJMRWRCUVVjc1JVRkJSU3hEUVVGRE8wRkJRM0JDTEV0QlFVc3NTVUZCU1N4RFFVRkRMRWRCUVVjc1EwRkJReXhGUVVGRkxFTkJRVU1zUjBGQlJ5eERRVUZETEVWQlFVVXNRMEZCUXl4RlFVRkZMRVZCUVVVN1NVRkRlRUlzVVVGQlVTeERRVUZETEVsQlFVa3NRMEZEVkN4cFFrRkJUeXhEUVVGRExFMUJRVTBzUTBGQlF5eE5RVUZOTEVOQlFVTTdVVUZEYkVJc1EwRkJReXhGUVVGRkxFTkJRVU1zVlVGQlZTeERRVUZETEV0QlFVc3NSMEZCUnl4SFFVRkhMRWRCUVVjc1EwRkJReXhEUVVGRExFZEJRVWNzUlVGQlJTeERRVUZETEVOQlFVTTdVVUZEZEVNc1EwRkJReXhGUVVGRkxGVkJRVlVzUTBGQlF5eE5RVUZOTEVkQlFVY3NTVUZCU1R0UlFVTXpRaXhOUVVGTkxFVkJRVVVzUlVGQlJUdExRVU5pTEVOQlFVTXNRMEZEVEN4RFFVRkJPME5CUTBvN1FVRkZSQ3huUWtGQlowSTdRVUZEYUVJc1RVRkJUU3hOUVVGTkxFZEJRVWNzYVVKQlFVOHNRMEZCUXl4TlFVRk5MRU5CUVVNc1RVRkJUU3hEUVVGRExFVkJRVVVzUTBGQlF5eEZRVUZGTEVkQlFVY3NSVUZCUlN4RFFVRkRMRVZCUVVVc1IwRkJSeXhGUVVGRkxFMUJRVTBzUlVGQlJTeEZRVUZGTEVWQlFVVXNRMEZCUXl4RFFVRkRPMEZCUlhKRkxFMUJRVTBzUzBGQlN5eEhRVUZITzBsQlExWXNSMEZCUnl4UlFVRlJPMGxCUTFnc1RVRkJUVHREUVVOVUxFTkJRVU03UVVGRlJpeEpRVUZKTEVOQlFVTXNTMEZCU3l4RlFVRkZMRU5CUVVNN1FVRkZZaXhUUVVGVExFOUJRVTg3U1VGRFdpeFJRVUZSTEVOQlFVTXNUMEZCVHl4RFFVRkRMRTlCUVU4c1EwRkJReXhGUVVGRk8xRkJRM1pDTEU5QlFVOHNRMEZCUXl4UlFVRlJMRWRCUVVjc1JVRkJSU3hEUVVGRExFVkJRVVVzUTBGQlF5eEZRVUZGTEVOQlFVTXNSVUZCUlN4RFFVRkRMRVZCUVVVc1EwRkJRenRKUVVOMFF5eERRVUZETEVOQlFVTXNRMEZCUVR0QlFVTk9MRU5CUVVNN1FVRkZSQ3hUUVVGVExFMUJRVTA3U1VGRldDeE5RVUZOTEZsQlFWa3NSMEZCUnl4UlFVRlJMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU03U1VGRGFrTXNUVUZCVFN4WFFVRlhMRWRCUVVjc1VVRkJVU3hEUVVGRExGRkJRVkVzUTBGQlF5eE5RVUZOTEVkQlFVY3NRMEZCUXl4RFFVRkRMRU5CUVVNN1NVRkRiRVFzVFVGQlRTeDVRa0ZCZVVJc1IwRkJSeXhEUVVGRExGbEJRVmtzUTBGQlF5eERRVUZETEVkQlFVY3NXVUZCV1N4RFFVRkRMRTFCUVUwc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dEpRVU01UlN4TlFVRk5MSGxDUVVGNVFpeEhRVUZITEVOQlFVTXNWMEZCVnl4RFFVRkRMRU5CUVVNc1IwRkJSeXhYUVVGWExFTkJRVU1zVFVGQlRTeERRVUZETEVsQlFVa3NWVUZCVlN4RFFVRkRMRXRCUVVzc1EwRkJRenRKUVVNelJpeEpRVUZKTEhsQ1FVRjVRaXhKUVVGSkxIbENRVUY1UWl4RlFVRkZPMUZCUTNoRUxGRkJRVkVzUTBGQlF5eFBRVUZQTEVOQlFVTXNUMEZCVHl4RFFVRkRMRVZCUVVVc1EwRkJReXhQUVVGUExFTkJRVU1zVVVGQlVTeERRVUZETEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRE8xRkJRM1JFTEZGQlFWRXNRMEZCUXl4UFFVRlBMRU5CUVVNc1QwRkJUeXhEUVVGRExFVkJRVVVzUTBGQlF5eFBRVUZQTEVOQlFVTXNRMEZCUXl4SlFVRkpMRlZCUVZVc1EwRkJReXhOUVVGTkxFZEJRVWNzUjBGQlJ5eERRVUZETEVOQlFVTTdTMEZEY2tVN1NVRkZSQ3hwUWtGQlR5eERRVUZETEZGQlFWRXNRMEZCUXl4TFFVRkxMRU5CUVVNc1EwRkJRenRCUVVNMVFpeERRVUZETzBGQlJVUXNVMEZCVXl4TlFVRk5MRU5CUVVNc09FSkJRWE5ETzBsQlEyeEVMRkZCUVZFc1EwRkJReXhSUVVGUkxFTkJRVU1zUzBGQlN5eERRVUZETEVOQlFVTTdRVUZETjBJc1EwRkJReUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1sdGNHOXlkQ0JqY21WaGRHVkhZVzFsSUdaeWIyMGdKeTR1THk0dUwzTnlZeTlwYm1SbGVDYzdYRzVwYlhCdmNuUWdVR2g1YzJsamN5Qm1jbTl0SUNjdUxpOHVMaTl3YUhsemFXTnpKenRjYm1sdGNHOXlkQ0JTWlc1a1pYSmxjaUJtY205dElDY3VMaTh1TGk5eVpXNWtaWEluTzF4dVhHNWpiMjV6ZENCbllXMWxRMjl1Wm1sbklEMGdlMXh1SUNBZ0lIZHBaSFJvT2lBNE1EQXNYRzRnSUNBZ2FHVnBaMmgwT2lBMk1EQXNYRzU5TzF4dVhHNHZMeUJCWkdRZ2NtVnVaR1Z5WlhKY2JtTnZibk4wSUhKbGJtUmxjbVZ5SUQwZ1VtVnVaR1Z5WlhJdVkzSmxZWFJsVW1WdVpHVnlaWElvWjJGdFpVTnZibVpwWnlrN1hHNWtiMk4xYldWdWRDNWliMlI1TG1Gd2NHVnVaRU5vYVd4a0tISmxibVJsY21WeUxuWnBaWGNwTzF4dVhHNWpiMjV6ZENCbllXMWxJRDBnWTNKbFlYUmxSMkZ0WlNoN1hHNGdJQ0FnZEdGeVoyVjBSMkZ0WlV4dloybGpSbkpoYldWU1lYUmxPaUEyTUN4Y2JpQWdJQ0J2YmxOMFlYSjBMRnh1SUNBZ0lIVndaR0YwWlN4Y2JpQWdJQ0J5Wlc1a1pYSXNYRzU5S1R0Y2JseHVYRzVjYmk4dklFTnlaV0YwWlNCcGJuWmhaR1Z5YzF4dVkyOXVjM1FnYVc1MllXUmxjbk1nUFNCYlhUdGNibVp2Y2lBb2JHVjBJR2tnUFNBd095QnBJRHdnTlRzZ2FTc3JLU0I3WEc0Z0lDQWdhVzUyWVdSbGNuTXVjSFZ6YUNoY2JpQWdJQ0FnSUNBZ1VHaDVjMmxqY3k1Q2IyUnBaWE11WTJseVkyeGxLSHRjYmlBZ0lDQWdJQ0FnSUNBZ0lIZzZJQ2huWVcxbFEyOXVabWxuTG5kcFpIUm9JQ29nTUM0eUlDb2dLR2tnS3lBdU5Ta3BMRnh1SUNBZ0lDQWdJQ0FnSUNBZ2VUb2daMkZ0WlVOdmJtWnBaeTVvWldsbmFIUWdLaUF3TGpFd0xGeHVJQ0FnSUNBZ0lDQWdJQ0FnY21Ga2FYVnpPaUF4TlN4Y2JpQWdJQ0FnSUNBZ2ZTbGNiaUFnSUNBcFhHNTlYRzVjYmk4dklFTnlaV0YwWlNCUWJHRjVaWEpjYm1OdmJuTjBJSEJzWVhsbGNpQTlJRkJvZVhOcFkzTXVRbTlrYVdWekxtTnBjbU5zWlNoN0lIZzZJRFF3TUN3Z2VUb2dNakF3TENCeVlXUnBkWE02SURJMUlIMHBPMXh1WEc1amIyNXpkQ0IzYjNKc1pDQTlJRnRjYmlBZ0lDQXVMaTVwYm5aaFpHVnljeXhjYmlBZ0lDQndiR0Y1WlhJc1hHNWRPMXh1WEc1bllXMWxMbk4wWVhKMEtDazdYRzVjYm1aMWJtTjBhVzl1SUc5dVUzUmhjblFvS1NCN1hHNGdJQ0FnYVc1MllXUmxjbk11Wm05eVJXRmphQ2hwYm5aaFpHVnlJRDArSUh0Y2JpQWdJQ0FnSUNBZ2FXNTJZV1JsY2k1MlpXeHZZMmwwZVNBOUlIc2dlRG9nTVN3Z2VUb2dNQ0I5TzF4dUlDQWdJSDBwWEc1OVhHNWNibVoxYm1OMGFXOXVJSFZ3WkdGMFpTZ3BJSHRjYmx4dUlDQWdJR052Ym5OMElHWnBjbk4wU1c1MllXUmxjaUE5SUdsdWRtRmtaWEp6V3pCZE8xeHVJQ0FnSUdOdmJuTjBJR3hoYzNSSmJuWmhaR1Z5SUQwZ2FXNTJZV1JsY25OYmFXNTJZV1JsY25NdWJHVnVaM1JvSUMwZ01WMDdYRzRnSUNBZ1kyOXVjM1FnYVhOR2FYSnpkRWx1ZG1Ga1pYSlBabVpNWldaMFUybGtaU0E5SUNobWFYSnpkRWx1ZG1Ga1pYSXVlQ0F0SUdacGNuTjBTVzUyWVdSbGNpNXlZV1JwZFhNcElEdzlJREE3WEc0Z0lDQWdZMjl1YzNRZ2FYTk1ZWE4wU1c1MllXUmxjazltWmxKcFoyaDBVMmxrWlNBOUlDaHNZWE4wU1c1MllXUmxjaTU0SUNzZ2JHRnpkRWx1ZG1Ga1pYSXVjbUZrYVhWektTQStQU0JuWVcxbFEyOXVabWxuTG5kcFpIUm9PMXh1SUNBZ0lHbG1JQ2hwYzBacGNuTjBTVzUyWVdSbGNrOW1aa3hsWm5SVGFXUmxJSHg4SUdselRHRnpkRWx1ZG1Ga1pYSlBabVpTYVdkb2RGTnBaR1VwSUh0Y2JpQWdJQ0FnSUNBZ2FXNTJZV1JsY25NdVptOXlSV0ZqYUNocGJuWmhaR1Z5SUQwK0lHbHVkbUZrWlhJdWRtVnNiMk5wZEhrdWVDQXFQU0F0TVNrN1hHNGdJQ0FnSUNBZ0lHbHVkbUZrWlhKekxtWnZja1ZoWTJnb2FXNTJZV1JsY2lBOVBpQnBiblpoWkdWeUxua2dLejBnWjJGdFpVTnZibVpwWnk1b1pXbG5hSFFnS2lBdU1ERXBPMXh1SUNBZ0lIMWNibHh1SUNBZ0lGQm9lWE5wWTNNdWJtVjRkRlJwWTJzb2QyOXliR1FwTzF4dWZWeHVYRzVtZFc1amRHbHZiaUJ5Wlc1a1pYSW9aR2x6ZEdGdVkyVkNaWFIzWldWdVIyRnRaVXh2WjJsalJuSmhiV1Z6T2lCdWRXMWlaWElwSUh0Y2JpQWdJQ0J5Wlc1a1pYSmxjaTV1WlhoMFZHbGpheWgzYjNKc1pDazdYRzU5WEc0aVhYMD0iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmRlZmF1bHQgPSB7XHJcbiAgICBjaXJjbGUsXHJcbn07XHJcbi8qKlxyXG4qIENyZWF0ZXMgYSBuZXcgcmlnaWQgYm9keSBtb2RlbCB3aXRoIGEgY2lyY2xlIGh1bGwuXHJcbiogVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXHJcbiogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gb2YgdGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXHJcbiogQG1ldGhvZCBjaXJjbGVcclxuKiBAcGFyYW0ge251bWJlcn0geFxyXG4qIEBwYXJhbSB7bnVtYmVyfSB5XHJcbiogQHBhcmFtIHtudW1iZXJ9IHJhZGl1c1xyXG4qIEByZXR1cm4ge2JvZHl9IEEgbmV3IGNpcmNsZSBib2R5XHJcbiovXHJcbmZ1bmN0aW9uIGNpcmNsZShjb25maWcpIHtcclxuICAgIHJldHVybiBjb25maWc7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pUW05a2FXVnpMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE1pT2xzaUxpNHZMaTR2Y0doNWMybGpjeTlDYjJScFpYTXVkSE1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3UVVGRlFTeHJRa0ZCWlR0SlFVTllMRTFCUVUwN1EwRkRWQ3hEUVVGRE8wRkJSVVE3T3pzN096czdPenRGUVZORk8wRkJRMGdzVTBGQlV5eE5RVUZOTEVOQlFVTXNUVUZKV0R0SlFVTkVMRTlCUVU4c1RVRkJUU3hEUVVGRE8wRkJRMnhDTEVOQlFVTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUpwYlhCdmNuUWdRbTlrZVNCbWNtOXRJQ2N1TDBKdlpIa25PMXh1WEc1bGVIQnZjblFnWkdWbVlYVnNkQ0I3WEc0Z0lDQWdZMmx5WTJ4bExGeHVmVHRjYmx4dUlDOHFLbHh1SUNvZ1EzSmxZWFJsY3lCaElHNWxkeUJ5YVdkcFpDQmliMlI1SUcxdlpHVnNJSGRwZEdnZ1lTQmphWEpqYkdVZ2FIVnNiQzVjYmlBcUlGUm9aU0J2Y0hScGIyNXpJSEJoY21GdFpYUmxjaUJwY3lCaGJpQnZZbXBsWTNRZ2RHaGhkQ0J6Y0dWamFXWnBaWE1nWVc1NUlIQnliM0JsY25ScFpYTWdlVzkxSUhkcGMyZ2dkRzhnYjNabGNuSnBaR1VnZEdobElHUmxabUYxYkhSekxseHVJQ29nVTJWbElIUm9aU0J3Y205d1pYSjBhV1Z6SUhObFkzUnBiMjRnYjJZZ2RHaGxJR0JOWVhSMFpYSXVRbTlrZVdBZ2JXOWtkV3hsSUdadmNpQmtaWFJoYVd4bFpDQnBibVp2Y20xaGRHbHZiaUJ2YmlCM2FHRjBJSGx2ZFNCallXNGdjR0Z6Y3lCMmFXRWdkR2hsSUdCdmNIUnBiMjV6WUNCdlltcGxZM1F1WEc0Z0tpQkFiV1YwYUc5a0lHTnBjbU5zWlZ4dUlDb2dRSEJoY21GdElIdHVkVzFpWlhKOUlIaGNiaUFxSUVCd1lYSmhiU0I3Ym5WdFltVnlmU0I1WEc0Z0tpQkFjR0Z5WVcwZ2UyNTFiV0psY24wZ2NtRmthWFZ6WEc0Z0tpQkFjbVYwZFhKdUlIdGliMlI1ZlNCQklHNWxkeUJqYVhKamJHVWdZbTlrZVZ4dUlDb3ZYRzVtZFc1amRHbHZiaUJqYVhKamJHVW9ZMjl1Wm1sbk9pQjdYRzRnSUNBZ0lDQWdJSGc2SUc1MWJXSmxjanRjYmlBZ0lDQWdJQ0FnZVRvZ2JuVnRZbVZ5TzF4dUlDQWdJQ0FnSUNCeVlXUnBkWE02SUc1MWJXSmxjanRjYmlBZ0lDQjlLVG9nUW05a2VTQjdYRzRnSUNBZ2NtVjBkWEp1SUdOdmJtWnBaenRjYm4xY2JpSmRmUT09IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuY29uc3QgQm9kaWVzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vQm9kaWVzXCIpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0ge1xyXG4gICAgQm9kaWVzOiBCb2RpZXNfMS5kZWZhdWx0LFxyXG4gICAgbmV4dFRpY2ssXHJcbn07XHJcbmZ1bmN0aW9uIG5leHRUaWNrKGJvZGllcykge1xyXG4gICAgZm9yIChjb25zdCBib2R5IG9mIGJvZGllcykge1xyXG4gICAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvblxyXG4gICAgICAgIGNvbnN0IHZlbG9jaXR5ID0ge1xyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICAuLi5ib2R5LnZlbG9jaXR5LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgYm9keS54ICs9IHZlbG9jaXR5Lng7XHJcbiAgICAgICAgYm9keS55ICs9IHZlbG9jaXR5Lnk7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pYVc1a1pYZ3Vhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lJdUxpOHVMaTl3YUhsemFXTnpMMmx1WkdWNExuUnpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3TzBGQlFVRXNjMFJCUVRoQ08wRkJSemxDTEd0Q1FVRmxPMGxCUTFnc1RVRkJUU3hGUVVGT0xHZENRVUZOTzBsQlEwNHNVVUZCVVR0RFFVTllMRU5CUVVNN1FVRkhSaXhUUVVGVExGRkJRVkVzUTBGQlF5eE5RVUZqTzBsQlF6VkNMRXRCUVVzc1RVRkJUU3hKUVVGSkxFbEJRVWtzVFVGQlRTeEZRVUZGTzFGQlEzWkNMR3RDUVVGclFqdFJRVU5zUWl4TlFVRk5MRkZCUVZFc1IwRkJSenRaUVVOaUxFTkJRVU1zUlVGQlJTeERRVUZETzFsQlEwb3NRMEZCUXl4RlFVRkZMRU5CUVVNN1dVRkRTaXhIUVVGSExFbEJRVWtzUTBGQlF5eFJRVUZSTzFOQlEyNUNMRU5CUVVFN1VVRkRSQ3hKUVVGSkxFTkJRVU1zUTBGQlF5eEpRVUZKTEZGQlFWRXNRMEZCUXl4RFFVRkRMRU5CUVVNN1VVRkRja0lzU1VGQlNTeERRVUZETEVOQlFVTXNTVUZCU1N4UlFVRlJMRU5CUVVNc1EwRkJReXhEUVVGRE8wdEJRM2hDTzBGQlEwd3NRMEZCUXlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkltbHRjRzl5ZENCQ2IyUnBaWE1nWm5KdmJTQW5MaTlDYjJScFpYTW5PMXh1YVcxd2IzSjBJRUp2WkhrZ1puSnZiU0FuTGk5Q2IyUjVKenRjYmx4dVpYaHdiM0owSUdSbFptRjFiSFFnZTF4dUlDQWdJRUp2WkdsbGN5eGNiaUFnSUNCdVpYaDBWR2xqYXl4Y2JuMDdYRzVjYmx4dVpuVnVZM1JwYjI0Z2JtVjRkRlJwWTJzb1ltOWthV1Z6T2lCQ2IyUjVXMTBwSUh0Y2JpQWdJQ0JtYjNJZ0tHTnZibk4wSUdKdlpIa2diMllnWW05a2FXVnpLU0I3WEc0Z0lDQWdJQ0FnSUM4dklGVndaR0YwWlNCd2IzTnBkR2x2Ymx4dUlDQWdJQ0FnSUNCamIyNXpkQ0IyWld4dlkybDBlU0E5SUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJSGc2SURBc1hHNGdJQ0FnSUNBZ0lDQWdJQ0I1T2lBd0xGeHVJQ0FnSUNBZ0lDQWdJQ0FnTGk0dVltOWtlUzUyWld4dlkybDBlU3hjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCaWIyUjVMbmdnS3owZ2RtVnNiMk5wZEhrdWVEdGNiaUFnSUNBZ0lDQWdZbTlrZVM1NUlDczlJSFpsYkc5amFYUjVMbms3WEc0Z0lDQWdmVnh1ZlZ4dUlsMTkiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5leHBvcnRzLmRlZmF1bHQgPSB7XHJcbiAgICBjcmVhdGVSZW5kZXJlcixcclxufTtcclxuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIoY29uZmlnKSB7XHJcbiAgICBjb25zdCBjYW52YXMgPSBPYmplY3QuYXNzaWduKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLCBjb25maWcpO1xyXG4gICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB2aWV3OiBjYW52YXMsXHJcbiAgICAgICAgbmV4dFRpY2ssXHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gbmV4dFRpY2soYm9kaWVzKSB7XHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2ZmZic7XHJcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIGZvciAoY29uc3QgYm9keSBvZiBib2RpZXMpIHtcclxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY29udGV4dC5hcmMoYm9keS54LCBib2R5LnksIGJvZHkucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMTtcclxuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjOTk5JztcclxuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pYVc1a1pYZ3Vhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lJdUxpOHVMaTl5Wlc1a1pYSXZhVzVrWlhndWRITWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdRVUZGUVN4clFrRkJaVHRKUVVOWUxHTkJRV003UTBGRGFrSXNRMEZCUXp0QlFVVkdMRk5CUVZNc1kwRkJZeXhEUVVGRExFMUJRWGRETzBsQlF6VkVMRTFCUVUwc1RVRkJUU3hIUVVGSExFMUJRVTBzUTBGQlF5eE5RVUZOTEVOQlEzaENMRkZCUVZFc1EwRkJReXhoUVVGaExFTkJRVU1zVVVGQlVTeERRVUZETEVWQlEyaERMRTFCUVUwc1EwRkRWQ3hEUVVGRE8wbEJRMFlzVFVGQlRTeFBRVUZQTEVkQlFVY3NUVUZCVFN4RFFVRkRMRlZCUVZVc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6dEpRVVY0UXl4UFFVRlBPMUZCUTBnc1NVRkJTU3hGUVVGRkxFMUJRVTA3VVVGRFdpeFJRVUZSTzB0QlExZ3NRMEZCUVR0SlFVVkVMRk5CUVZNc1VVRkJVU3hEUVVGRExFMUJRV003VVVGRE5VSXNUMEZCVHl4RFFVRkRMRk5CUVZNc1IwRkJSeXhOUVVGTkxFTkJRVU03VVVGRE0wSXNUMEZCVHl4RFFVRkRMRkZCUVZFc1EwRkJReXhEUVVGRExFVkJRVVVzUTBGQlF5eEZRVUZGTEUxQlFVMHNRMEZCUXl4TFFVRkxMRVZCUVVVc1RVRkJUU3hEUVVGRExFMUJRVTBzUTBGQlF5eERRVUZETzFGQlIzQkVMRXRCUVVzc1RVRkJUU3hKUVVGSkxFbEJRVWtzVFVGQlRTeEZRVUZGTzFsQlEzWkNMRTlCUVU4c1EwRkJReXhUUVVGVExFVkJRVVVzUTBGQlF6dFpRVU53UWl4UFFVRlBMRU5CUVVNc1IwRkJSeXhEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETEVWQlFVVXNTVUZCU1N4RFFVRkRMRU5CUVVNc1JVRkJSU3hKUVVGSkxFTkJRVU1zVFVGQlRTeEZRVUZGTEVOQlFVTXNSVUZCUlN4RFFVRkRMRWRCUVVjc1NVRkJTU3hEUVVGRExFVkJRVVVzUTBGQlF5eERRVUZETzFsQlEzcEVMRTlCUVU4c1EwRkJReXhUUVVGVExFZEJRVWNzUTBGQlF5eERRVUZETzFsQlEzUkNMRTlCUVU4c1EwRkJReXhYUVVGWExFZEJRVWNzVFVGQlRTeERRVUZETzFsQlF6ZENMRTlCUVU4c1EwRkJReXhOUVVGTkxFVkJRVVVzUTBGQlF6dFRRVU53UWp0SlFVZE1MRU5CUVVNN1FVRkZUQ3hEUVVGRElpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lhVzF3YjNKMElFSnZaSGtnWm5KdmJTQW5MaTR2Y0doNWMybGpjeTlDYjJSNUp6dGNibHh1Wlhod2IzSjBJR1JsWm1GMWJIUWdlMXh1SUNBZ0lHTnlaV0YwWlZKbGJtUmxjbVZ5TEZ4dWZUdGNibHh1Wm5WdVkzUnBiMjRnWTNKbFlYUmxVbVZ1WkdWeVpYSW9ZMjl1Wm1sbk9pQjdJSGRwWkhSb09pQnVkVzFpWlhJc0lHaGxhV2RvZERvZ2JuVnRZbVZ5ZlNrZ2UxeHVJQ0FnSUdOdmJuTjBJR05oYm5aaGN5QTlJRTlpYW1WamRDNWhjM05wWjI0b1hHNGdJQ0FnSUNBZ0lHUnZZM1Z0Wlc1MExtTnlaV0YwWlVWc1pXMWxiblFvSjJOaGJuWmhjeWNwTEZ4dUlDQWdJQ0FnSUNCamIyNW1hV2RjYmlBZ0lDQXBPMXh1SUNBZ0lHTnZibk4wSUdOdmJuUmxlSFFnUFNCallXNTJZWE11WjJWMFEyOXVkR1Y0ZENnbk1tUW5LVHRjYmx4dUlDQWdJSEpsZEhWeWJpQjdYRzRnSUNBZ0lDQWdJSFpwWlhjNklHTmhiblpoY3l4Y2JpQWdJQ0FnSUNBZ2JtVjRkRlJwWTJzc1hHNGdJQ0FnZlZ4dVhHNGdJQ0FnWm5WdVkzUnBiMjRnYm1WNGRGUnBZMnNvWW05a2FXVnpPaUJDYjJSNVcxMHBJSHRjYmlBZ0lDQWdJQ0FnWTI5dWRHVjRkQzVtYVd4c1UzUjViR1VnUFNBbkkyWm1aaWM3WEc0Z0lDQWdJQ0FnSUdOdmJuUmxlSFF1Wm1sc2JGSmxZM1FvTUN3Z01Dd2dZMkZ1ZG1GekxuZHBaSFJvTENCallXNTJZWE11YUdWcFoyaDBLVHRjYmx4dVhHNGdJQ0FnSUNBZ0lHWnZjaUFvWTI5dWMzUWdZbTlrZVNCdlppQmliMlJwWlhNcElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUdOdmJuUmxlSFF1WW1WbmFXNVFZWFJvS0NrN1hHNGdJQ0FnSUNBZ0lDQWdJQ0JqYjI1MFpYaDBMbUZ5WXloaWIyUjVMbmdzSUdKdlpIa3VlU3dnWW05a2VTNXlZV1JwZFhNc0lEQXNJRElnS2lCTllYUm9MbEJKS1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJR052Ym5SbGVIUXViR2x1WlZkcFpIUm9JRDBnTVR0Y2JpQWdJQ0FnSUNBZ0lDQWdJR052Ym5SbGVIUXVjM1J5YjJ0bFUzUjViR1VnUFNBbkl6azVPU2M3WEc0Z0lDQWdJQ0FnSUNBZ0lDQmpiMjUwWlhoMExuTjBjbTlyWlNncE8xeHVJQ0FnSUNBZ0lDQjlYRzVjYmx4dUlDQWdJSDFjYmx4dWZWeHVJbDE5IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gVE9ETzogRXh0cmFjdCBwaXhpIHRvIGEgcGx1Z2luIChTT0MpXHJcbi8vIFBJWElcclxuLy8gY29uc3QgcmVuZGVyT2JqZWN0Q29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XHJcbi8vIGFwcC5zdGFnZS5hZGRDaGlsZChyZW5kZXJPYmplY3RDb250YWluZXIpO1xyXG4vLyBQSVhJXHJcbi8vIFRPRE86IFN0YWdlLCBjb250YWluZXJcclxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0NvZGVyMjAxMi9waXhpL3RyZWUvbWFzdGVyL3NwYWNlc2hvb3RlclxyXG4vLyBodHRwczovL2NvZGVwZW4uaW8vY2Vsc293aGl0ZS9wZW4vWFdiRXpweFxyXG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVHYW1lO1xyXG5mdW5jdGlvbiBjcmVhdGVHYW1lKGNvbmZpZykge1xyXG4gICAgY29uc3QgeyB0YXJnZXRHYW1lTG9naWNGcmFtZVJhdGUsIG9uU3RhcnQsIHVwZGF0ZSwgcmVuZGVyLCB9ID0gY29uZmlnO1xyXG4gICAgY29uc3QgTVNfUEVSX1VQREFURSA9IDEwMDAgLyB0YXJnZXRHYW1lTG9naWNGcmFtZVJhdGU7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHN0YXJ0LFxyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIHN0YXJ0KCkge1xyXG4gICAgICAgIGxldCBwcmV2aW91c1RpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIGxldCB0aW1lQmVoaW5kUmVhbFdvcmxkID0gMDtcclxuICAgICAgICBvblN0YXJ0KCk7XHJcbiAgICAgICAgbmV4dFRpY2soKTtcclxuICAgICAgICBmdW5jdGlvbiBuZXh0VGljaygpIHtcclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShuZXh0VGljayk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgY29uc3QgZWxhcHNlZFRpbWUgPSBjdXJyZW50VGltZSAtIHByZXZpb3VzVGltZTtcclxuICAgICAgICAgICAgdGltZUJlaGluZFJlYWxXb3JsZCArPSBlbGFwc2VkVGltZTtcclxuICAgICAgICAgICAgLy8gVE9ETzogcHJvY2VzcyBpbnB1dFxyXG4gICAgICAgICAgICAvLyBGaXhlZCBHYW1lIExvZ2ljIHRpbWVzdGVwIC0gVE9ETzogYmFpbCBhZnRlciBudW0gaXRlcmF0aW9uc1xyXG4gICAgICAgICAgICB3aGlsZSAodGltZUJlaGluZFJlYWxXb3JsZCA+PSBNU19QRVJfVVBEQVRFKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRpbWVCZWhpbmRSZWFsV29ybGQgLT0gTVNfUEVSX1VQREFURTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZUJldHdlZW5HYW1lTG9naWNGcmFtZXMgPSB0aW1lQmVoaW5kUmVhbFdvcmxkIC8gTVNfUEVSX1VQREFURTtcclxuICAgICAgICAgICAgLy8gVmFyaWFibGUgcmVuZGVyIHRpbWVzdGVwXHJcbiAgICAgICAgICAgIHJlbmRlcihkaXN0YW5jZUJldHdlZW5HYW1lTG9naWNGcmFtZXMpO1xyXG4gICAgICAgICAgICBwcmV2aW91c1RpbWUgPSBjdXJyZW50VGltZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pYVc1a1pYZ3Vhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lJdUxpOHVMaTl6Y21NdmFXNWtaWGd1ZEhNaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN1FVRlBRU3gxUTBGQmRVTTdRVUZGZGtNc1QwRkJUenRCUVVOUUxITkVRVUZ6UkR0QlFVTjBSQ3cyUTBGQk5rTTdRVUZETjBNc1QwRkJUenRCUVVWUUxIbENRVUY1UWp0QlFVTjZRaXcyUkVGQk5rUTdRVUZETjBRc05FTkJRVFJETzBGQlJUVkRMR3RDUVVGbExGVkJRVlVzUTBGQlF6dEJRVVV4UWl4VFFVRlRMRlZCUVZVc1EwRkJReXhOUVVGclFqdEpRVVZzUXl4TlFVRk5MRVZCUTBZc2QwSkJRWGRDTEVWQlEzaENMRTlCUVU4c1JVRkRVQ3hOUVVGTkxFVkJRMDRzVFVGQlRTeEhRVU5VTEVkQlFVY3NUVUZCVFN4RFFVRkRPMGxCUlZnc1RVRkJUU3hoUVVGaExFZEJRVWNzU1VGQlNTeEhRVUZITEhkQ1FVRjNRaXhEUVVGRE8wbEJSM1JFTEU5QlFVODdVVUZEU0N4TFFVRkxPMHRCUTFJc1EwRkJRenRKUVVWR0xGTkJRVk1zUzBGQlN6dFJRVU5XTEVsQlFVa3NXVUZCV1N4SFFVRkhMRWxCUVVrc1EwRkJReXhIUVVGSExFVkJRVVVzUTBGQlF6dFJRVU01UWl4SlFVRkpMRzFDUVVGdFFpeEhRVUZITEVOQlFVTXNRMEZCUXp0UlFVVTFRaXhQUVVGUExFVkJRVVVzUTBGQlF6dFJRVU5XTEZGQlFWRXNSVUZCUlN4RFFVRkRPMUZCUlZnc1UwRkJVeXhSUVVGUk8xbEJRMklzVFVGQlRTeERRVUZETEhGQ1FVRnhRaXhEUVVGRExGRkJRVkVzUTBGQlF5eERRVUZETzFsQlJYWkRMRTFCUVUwc1YwRkJWeXhIUVVGSExFbEJRVWtzUTBGQlF5eEhRVUZITEVWQlFVVXNRMEZCUXp0WlFVTXZRaXhOUVVGTkxGZEJRVmNzUjBGQlJ5eFhRVUZYTEVkQlFVY3NXVUZCV1N4RFFVRkRPMWxCUXk5RExHMUNRVUZ0UWl4SlFVRkpMRmRCUVZjc1EwRkJRenRaUVVWdVF5eHpRa0ZCYzBJN1dVRkZkRUlzT0VSQlFUaEVPMWxCUXpsRUxFOUJRVThzYlVKQlFXMUNMRWxCUVVrc1lVRkJZU3hGUVVGRk8yZENRVU42UXl4TlFVRk5MRVZCUVVVc1EwRkJRenRuUWtGRFZDeHRRa0ZCYlVJc1NVRkJTU3hoUVVGaExFTkJRVU03WVVGRGVFTTdXVUZGUkN4TlFVRk5MRGhDUVVFNFFpeEhRVUZITEcxQ1FVRnRRaXhIUVVGSExHRkJRV0VzUTBGQlF6dFpRVVV6UlN3eVFrRkJNa0k3V1VGRE0wSXNUVUZCVFN4RFFVRkRMRGhDUVVFNFFpeERRVUZETEVOQlFVTTdXVUZEZGtNc1dVRkJXU3hIUVVGSExGZEJRVmNzUTBGQlF6dFJRVU12UWl4RFFVRkRPMGxCUTB3c1EwRkJRenRCUVVWTUxFTkJRVU1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKcGJuUmxjbVpoWTJVZ1IyRnRaVU52Ym1acFp5QjdYRzRnSUNBZ2RHRnlaMlYwUjJGdFpVeHZaMmxqUm5KaGJXVlNZWFJsT2lCdWRXMWlaWEk3WEc0Z0lDQWdiMjVUZEdGeWREb2dLQ2tnUFQ0Z1lXNTVPMXh1SUNBZ0lIVndaR0YwWlRvZ0tDa2dQVDRnWVc1NU8xeHVJQ0FnSUhKbGJtUmxjam9nS0dScGMzUmhibU5sUW1WMGQyVmxia2RoYldWTWIyZHBZMFp5WVcxbGN6b2diblZ0WW1WeUtTQTlQaUJoYm5rN1hHNTlYRzVjYmk4dklGUlBSRTg2SUVWNGRISmhZM1FnY0dsNGFTQjBieUJoSUhCc2RXZHBiaUFvVTA5REtWeHVYRzR2THlCUVNWaEpYRzR2THlCamIyNXpkQ0J5Wlc1a1pYSlBZbXBsWTNSRGIyNTBZV2x1WlhJZ1BTQnVaWGNnVUVsWVNTNURiMjUwWVdsdVpYSW9LVHRjYmk4dklHRndjQzV6ZEdGblpTNWhaR1JEYUdsc1pDaHlaVzVrWlhKUFltcGxZM1JEYjI1MFlXbHVaWElwTzF4dUx5OGdVRWxZU1Z4dVhHNHZMeUJVVDBSUE9pQlRkR0ZuWlN3Z1kyOXVkR0ZwYm1WeVhHNHZMeUJvZEhSd2N6b3ZMMmRwZEdoMVlpNWpiMjB2UTI5a1pYSXlNREV5TDNCcGVHa3ZkSEpsWlM5dFlYTjBaWEl2YzNCaFkyVnphRzl2ZEdWeVhHNHZMeUJvZEhSd2N6b3ZMMk52WkdWd1pXNHVhVzh2WTJWc2MyOTNhR2wwWlM5d1pXNHZXRmRpUlhwd2VGeHVYRzVsZUhCdmNuUWdaR1ZtWVhWc2RDQmpjbVZoZEdWSFlXMWxPMXh1WEc1bWRXNWpkR2x2YmlCamNtVmhkR1ZIWVcxbEtHTnZibVpwWnpvZ1IyRnRaVU52Ym1acFp5a2dlMXh1WEc0Z0lDQWdZMjl1YzNRZ2UxeHVJQ0FnSUNBZ0lDQjBZWEpuWlhSSFlXMWxURzluYVdOR2NtRnRaVkpoZEdVc1hHNGdJQ0FnSUNBZ0lHOXVVM1JoY25Rc1hHNGdJQ0FnSUNBZ0lIVndaR0YwWlN4Y2JpQWdJQ0FnSUNBZ2NtVnVaR1Z5TEZ4dUlDQWdJSDBnUFNCamIyNW1hV2M3WEc1Y2JpQWdJQ0JqYjI1emRDQk5VMTlRUlZKZlZWQkVRVlJGSUQwZ01UQXdNQ0F2SUhSaGNtZGxkRWRoYldWTWIyZHBZMFp5WVcxbFVtRjBaVHRjYmx4dVhHNGdJQ0FnY21WMGRYSnVJSHRjYmlBZ0lDQWdJQ0FnYzNSaGNuUXNYRzRnSUNBZ2ZUdGNibHh1SUNBZ0lHWjFibU4wYVc5dUlITjBZWEowS0NrZ2UxeHVJQ0FnSUNBZ0lDQnNaWFFnY0hKbGRtbHZkWE5VYVcxbElEMGdSR0YwWlM1dWIzY29LVHRjYmlBZ0lDQWdJQ0FnYkdWMElIUnBiV1ZDWldocGJtUlNaV0ZzVjI5eWJHUWdQU0F3TzF4dVhHNGdJQ0FnSUNBZ0lHOXVVM1JoY25Rb0tUdGNiaUFnSUNBZ0lDQWdibVY0ZEZScFkyc29LVHRjYmx4dUlDQWdJQ0FnSUNCbWRXNWpkR2x2YmlCdVpYaDBWR2xqYXlncElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUhkcGJtUnZkeTV5WlhGMVpYTjBRVzVwYldGMGFXOXVSbkpoYldVb2JtVjRkRlJwWTJzcE8xeHVYRzRnSUNBZ0lDQWdJQ0FnSUNCamIyNXpkQ0JqZFhKeVpXNTBWR2x0WlNBOUlFUmhkR1V1Ym05M0tDazdYRzRnSUNBZ0lDQWdJQ0FnSUNCamIyNXpkQ0JsYkdGd2MyVmtWR2x0WlNBOUlHTjFjbkpsYm5SVWFXMWxJQzBnY0hKbGRtbHZkWE5VYVcxbE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnZEdsdFpVSmxhR2x1WkZKbFlXeFhiM0pzWkNBclBTQmxiR0Z3YzJWa1ZHbHRaVHRjYmx4dUlDQWdJQ0FnSUNBZ0lDQWdMeThnVkU5RVR6b2djSEp2WTJWemN5QnBibkIxZEZ4dVhHNGdJQ0FnSUNBZ0lDQWdJQ0F2THlCR2FYaGxaQ0JIWVcxbElFeHZaMmxqSUhScGJXVnpkR1Z3SUMwZ1ZFOUVUem9nWW1GcGJDQmhablJsY2lCdWRXMGdhWFJsY21GMGFXOXVjMXh1SUNBZ0lDQWdJQ0FnSUNBZ2QyaHBiR1VnS0hScGJXVkNaV2hwYm1SU1pXRnNWMjl5YkdRZ1BqMGdUVk5mVUVWU1gxVlFSRUZVUlNrZ2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIVndaR0YwWlNncE8xeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIUnBiV1ZDWldocGJtUlNaV0ZzVjI5eWJHUWdMVDBnVFZOZlVFVlNYMVZRUkVGVVJUdGNiaUFnSUNBZ0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQWdJQ0FnWTI5dWMzUWdaR2x6ZEdGdVkyVkNaWFIzWldWdVIyRnRaVXh2WjJsalJuSmhiV1Z6SUQwZ2RHbHRaVUpsYUdsdVpGSmxZV3hYYjNKc1pDQXZJRTFUWDFCRlVsOVZVRVJCVkVVN1hHNWNiaUFnSUNBZ0lDQWdJQ0FnSUM4dklGWmhjbWxoWW14bElISmxibVJsY2lCMGFXMWxjM1JsY0Z4dUlDQWdJQ0FnSUNBZ0lDQWdjbVZ1WkdWeUtHUnBjM1JoYm1ObFFtVjBkMlZsYmtkaGJXVk1iMmRwWTBaeVlXMWxjeWs3WEc0Z0lDQWdJQ0FnSUNBZ0lDQndjbVYyYVc5MWMxUnBiV1VnUFNCamRYSnlaVzUwVkdsdFpUdGNiaUFnSUNBZ0lDQWdmVnh1SUNBZ0lIMWNibHh1ZlZ4dUlsMTkiXSwic291cmNlUm9vdCI6IiJ9